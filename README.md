
# Obsydian Automations

–ù–µ–±–æ–ª—å—à–∏–µ –∞–≥–µ–Ω—Ç—ã-—Ö–µ–ª–ø–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥–∞—é—Ç —Å–æ–±–∏—Ä–∞—Ç—å/–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ Obsydian.

## üéôÔ∏è Audio Journal Transcriber (iOS ‚Üí Obsidian)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω–≤–µ–π–µ—Ä –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≥–æ–ª–æ—Å–æ–≤—ã—Ö –∑–∞–º–µ—Ç–æ–∫. –ü—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –∞—É–¥–∏–æ —Å –¥–∏–∫—Ç–æ—Ñ–æ–Ω–∞ iPhone –≤ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –≤ Obsidian, –∏—Å–ø–æ–ª—å–∑—É—è –ª–æ–∫–∞–ª—å–Ω—ã–π –ò–ò (Whisper + LLM).

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

*   **–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å:** –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ Mac (–±–µ–∑ –æ–±–ª–∞—á–Ω—ã—Ö API).
*   **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:** –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç–µ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º –¥–∏–∫—Ç–æ—Ñ–æ–Ω–µ iPhone ‚Äî —á–µ—Ä–µ–∑ iCloud –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∞ Mac.
*   **–£–º–Ω–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `faster-whisper` –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏.
*   **AI-–∞–Ω–∞–ª–∏–∑ (Llama/Qwen):**
    *   –†–∞–∑–¥–µ–ª—è–µ—Ç –∑–∞–ø–∏—Å–∏ –Ω–∞ **–î–Ω–µ–≤–Ω–∏–∫** –∏ **–ó–∞–º–µ—Ç–∫–∏**.
    *   –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–µ—Ç –¥–Ω–µ–≤–Ω–∏–∫ (–°–æ–Ω, –ó–¥–æ—Ä–æ–≤—å–µ, –£—Å–ø–µ—Ö–∏, –û—Ü–µ–Ω–∫–∞ –¥–Ω—è).
    *   –ò—Å–ø—Ä–∞–≤–ª—è–µ—Ç –ø—É–Ω–∫—Ç—É–∞—Ü–∏—é –∏ —Ä–∞–∑–±–∏–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç –Ω–∞ –∞–±–∑–∞—Ü—ã.
    *   **–£–º–Ω—ã–µ –¥–∞—Ç—ã:** –ü–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ –∑–∞–ø–∏—Å—å –≤ 2 —á–∞—Å–∞ –Ω–æ—á–∏ –ø—Ä–æ "—Å–µ–≥–æ–¥–Ω—è" –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –≤—á–µ—Ä–∞—à–Ω–µ–º—É –¥–Ω—é.
*   **–ê—Ä—Ö–∏–≤–∞—Ü–∏—è:** –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∞—É–¥–∏–æ—Ñ–∞–π–ª—ã –≤ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.
*   **Obsidian:** –°–æ–∑–¥–∞–µ—Ç –∫—Ä–∞—Å–∏–≤—ã–µ Markdown-—Ñ–∞–π–ª—ã —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ –∞—É–¥–∏–æ.
*   **Git:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ª–∞–µ—Ç commit & push –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π Obsidian.

---

## ‚öôÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

*   **Hardware:** Mac —Å —á–∏–ø–æ–º Apple Silicon —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è (–¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–±–æ—Ç—ã –Ω–µ–π—Ä–æ—Å–µ—Ç–µ–π).
*   **OS:** macOS (Sonoma/Sequoia) (–∏–∑-–∑–∞ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ icloud).
*   **iPhone:** –° –≤–∫–ª—é—á–µ–Ω–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π –î–∏–∫—Ç–æ—Ñ–æ–Ω–∞ –≤ iCloud.
*   **Software:**
    *   Python 3.10+
    *   [Ollama](https://ollama.com/) (–¥–ª—è –∑–∞–ø—É—Å–∫–∞ LLM).
    *   Git.

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Ollama –∏ –ú–æ–¥–µ–ª–∏
–°–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω—É—é LLM –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–∫—Å—Ç–∞.
1. –°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ [Ollama](https://ollama.com/).
2. –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å–∫–∞—á–∞–π—Ç–µ –º–æ–¥–µ–ª—å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è `qwen3` –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞):
   ```bash
   ollama pull qwen3:8b
   ```
   *–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥—É—é –º–æ–¥–µ–ª—å, –∏–∑–º–µ–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `OLLAMA_MODEL` –≤ —Å–∫—Ä–∏–ø—Ç–µ.*

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Python –æ–∫—Ä—É–∂–µ–Ω–∏—è
–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ.

```bash
# –°–æ–∑–¥–∞–µ–º –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞ –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –Ω–µ–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä
mkdir -p ~/Scripts/audio-journal
cd ~/Scripts/audio-journal

# –°–æ–∑–¥–∞–µ–º venv
python3 -m venv venv
source venv/bin/activate

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install faster-whisper openai
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—É—Ç–µ–π (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)
–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `process_voice_memos.py` –∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Å–µ–∫—Ü–∏—é `--- –ü–£–¢–ò ---` –ø–æ–¥ –≤–∞—à—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫:

```python
# –ü—É—Ç—å –∫ —Ö—Ä–∞–Ω–∏–ª–∏—â—É –∞—É–¥–∏–æ (–∫—É–¥–∞ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã)
LONG_TERM_STORAGE = os.path.join(HOME, "–í–∞—à–∞/–ü–∞–ø–∫–∞/–î–ª—è/–ê—É–¥–∏–æ")

# –ü—É—Ç—å –∫ –∫–æ—Ä–Ω—é –≤–∞—à–µ–≥–æ Obsidian Vault
OBSIDIAN_VAULT_ROOT = os.path.join(HOME, "Obsidian/–í–∞—àVault")

# –ò–º—è –ø–∞–ø–∫–∏-—Å—Å—ã–ª–∫–∏ (—Å–º. –ø—É–Ω–∫—Ç 4), –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∞–∫–æ–µ –∂–µ
OBSIDIAN_AUDIO_LINK_NAME = "AudioLinks"
```

### 4. –°–æ–∑–¥–∞–Ω–∏–µ Symlink –¥–ª—è Obsidian
–ß—Ç–æ–±—ã Obsidian –º–æ–≥ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞—Ç—å –∞—É–¥–∏–æ—Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –ª–µ–∂–∞—Ç –≤–Ω–µ –µ–≥–æ –ø–∞–ø–∫–∏ (–≤ –∞—Ä—Ö–∏–≤–µ), –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫—É—é —Å—Å—ã–ª–∫—É.

–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
# –°–∏–Ω—Ç–∞–∫—Å–∏—Å: ln -s "–ü—É—Ç—å_–∫_–ê—Ä—Ö–∏–≤—É" "–ü—É—Ç—å_–≤–Ω—É—Ç—Ä–∏_Obsidian/–ò–º—è–°—Å—ã–ª–∫–∏"

ln -s ~/–í–∞—à–∞/–ü–∞–ø–∫–∞/–î–ª—è/–ê—É–¥–∏–æ ~/Obsidian/–í–∞—àVault/AudioLinks
```
*–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏–º—è —Å—Å—ã–ª–∫–∏ (`AudioLinks`) —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `OBSIDIAN_AUDIO_LINK_NAME` –≤ —Å–∫—Ä–∏–ø—Ç–µ.*

### 5. –î–æ—Å—Ç—É–ø –∫ –î–∏—Å–∫—É (Full Disk Access)
–ü–∞–ø–∫–∞ –≥–æ–ª–æ—Å–æ–≤—ã—Ö –∑–∞–º–µ—Ç–æ–∫ (`~/Library/Group Containers/...`) –∑–∞—â–∏—â–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–æ–π.
1. –û—Ç–∫—Ä–æ–π—Ç–µ **–°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** -> **–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** -> **–î–æ—Å—Ç—É–ø –∫ –¥–∏—Å–∫—É**.
2. –î–æ–±–∞–≤—å—Ç–µ —Ç—É–¥–∞ **Terminal** (–∏–ª–∏ iTerm) –∏ **Python** (–µ—Å–ª–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –±–∏–Ω–∞—Ä–Ω–∏–∫ –Ω–∞–ø—Ä—è–º—É—é), –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏–≤ –∏–º –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø.

---

## ‚ñ∂Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1.  **–ó–∞–ø–∏—à–∏—Ç–µ –≥–æ–ª–æ—Å–æ–≤—É—é –∑–∞–º–µ—Ç–∫—É** –Ω–∞ iPhone.
2.  –î–æ–∂–¥–∏—Ç–µ—Å—å, –ø–æ–∫–∞ –æ–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ Mac (–æ–±—ã—á–Ω–æ 10-30 —Å–µ–∫—É–Ω–¥).
3.  –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç:
    ```bash
    # –ò–∑ –ø–∞–ø–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
    source venv/bin/activate
    python process_voice_memos.py
    ```
4.  –°–∫—Ä–∏–ø—Ç:
    *   –ù–∞–π–¥–µ–Ω –Ω–æ–≤—ã–µ `.m4a` —Ñ–∞–π–ª—ã.
    *   –ó–∞–ø—É—Å—Ç–∏—Ç Ollama (–µ—Å–ª–∏ –Ω–µ –∑–∞–ø—É—â–µ–Ω–∞).
    *   –¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä—É–µ—Ç –∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç.
    *   –°–æ–∑–¥–∞—Å—Ç `.md` —Ñ–∞–π–ª –≤ Obsidian.
    *   –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç –∞—É–¥–∏–æ –≤ –∞—Ä—Ö–∏–≤.
    *   –°–¥–µ–ª–∞–µ—Ç `git push` –≤–∞—à–µ–≥–æ Vault.
    *   –ü—Ä–∏—à–ª–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ macOS.

---

## üõ†Ô∏è –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

*   **`–ü–∞–ø–∫–∞ –î–∏–∫—Ç–æ—Ñ–æ–Ω–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞`**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å `VOICE_MEMOS_DIR`. Apple –∏–Ω–æ–≥–¥–∞ –º–µ–Ω—è–µ—Ç –ø—É—Ç–∏ –≤ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö macOS, –Ω–æ —Ç–µ–∫—É—â–∏–π (`Group Containers/group.com.apple.VoiceMemos.shared/Recordings`) –∞–∫—Ç—É–∞–ª–µ–Ω –¥–ª—è Sonoma/Sequoia.
*   **–û—à–∏–±–∫–∏ –¥–æ—Å—Ç—É–ø–∞ (`Permission denied`)**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Full Disk Access.
*   **–°–∫—Ä–∏–ø—Ç "–∑–∞–≤–∏—Å–∞–µ—Ç" –Ω–∞ `Whisper —Å–ª—É—à–∞–µ—Ç`**: –ü–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏ Whisper –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –≤—Ä–µ–º—è. –ï—Å–ª–∏ Mac —Å—Ç–∞—Ä—ã–π, —Å–º–µ–Ω–∏—Ç–µ `WHISPER_SIZE` –Ω–∞ `"medium"` –∏–ª–∏ `"small"`.
*   **Obsidian –Ω–µ –≤–∏–¥–∏—Ç –∞—É–¥–∏–æ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–∏–º–ª–∏–Ω–∫ (`ln -s`) —Å–æ–∑–¥–∞–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏ –≤–µ–¥–µ—Ç –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ø–∞–ø–∫—É.

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è
MIT. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –ø–æ–¥ —Å–µ–±—è!
